

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Quantum Communication &mdash; CUNQA</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=9edc463e" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../_static/tabs.css?v=4c969af8" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
      <link rel="stylesheet" type="text/css" href="../_static/css/nbgallery.css?v=50762a64" />
      <link rel="stylesheet" type="text/css" href="../_static/css/table.css?v=9571698f" />
      <link rel="stylesheet" type="text/css" href="../_static/css/sidebar.css?v=a8ff9168" />
      <link rel="stylesheet" type="text/css" href="../_static/css/python_domain.css?v=0ad3a607" />
      <link rel="stylesheet" type="text/css" href="../_static/css/general.css?v=1c682fb6" />

  
    <link rel="shortcut icon" href="../_static/cunca.png"/>
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../_static/copybutton.js?v=f281be69"></script>
      <script src="../_static/tabs.js?v=3ee01567"></script>
      <script src="../_static/design-tabs.js?v=f930bc37"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Tools for DQC algorithms" href="tools_for_DQC.html" />
    <link rel="prev" title="Classical Communications" href="classical_comm.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

  <div class="sidebar-header">
    
    <div class="project-name"> 
      <a href="../index.html">CUNQA</a>
    </div>
    <div class="project-version">latest</div>
    <div></div>

    <!--<div class="version-switcher">
      <select onchange="location = this.value;">
        
      </select>
    </div>-->
  </div>


        </div>
  <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation/getting_started.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quick_start/quick_start.html">Quick start</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="cunqa_overview.html">CUNQA overview</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="cunqa_overview.html#virtual-qpu">Virtual QPU</a></li>
<li class="toctree-l2"><a class="reference internal" href="cunqa_overview.html#quantum-circuits">Quantum circuits</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="cunqa_overview.html#dqc-schemes">DQC schemes</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="embarrassingly_parallel.html">   Embarrassingly parallel</a></li>
<li class="toctree-l3"><a class="reference internal" href="classical_comm.html">   Classical communications</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">   Quantum communications</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#how-to-deploy"><strong>How to deploy</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#circuits-design"><strong>Circuits design</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#execution"><strong>Execution</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#basic-example"><strong>Basic example</strong></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cunqa_overview.html#circuit-manipulation-techniques">Circuit Manipulation Techniques</a></li>
<li class="toctree-l2"><a class="reference internal" href="cunqa_overview.html#real-qpus">Real QPUs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../further_examples/further_examples.html">Further Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/reference.html">CUNQA reference</a></li>
</ul>

        </div>
  <div class="sidebar-logos">
    <a class="sidebar-logos__item" href="https://www.cesga.es/" target="_blank" rel="noopener">
      <img src="../_static/logo_cesga_blanco.png" alt="CESGA">
    </a>
    <a class="sidebar-logos__item" href="https://quantumspain-project.es/" target="_blank" rel="noopener">
      <img src="../_static/QuantumSpain_logo_white.png" alt="Quantum Spain">
    </a>
  </div>

      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">CUNQA</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="cunqa_overview.html">CUNQA overview</a></li>
      <li class="breadcrumb-item active">Quantum Communication</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/cunqa_overview/quantum_comm.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="quantum-communication">
<h1>Quantum Communication<a class="headerlink" href="#quantum-communication" title="Link to this heading"></a></h1>
<figure class="align-center" id="id1">
<a class="reference internal image-reference" href="../_images/QuantumCommScheme.png"><img alt="Quantum Communications Scheme" src="../_images/QuantumCommScheme.png" style="width: 60%;" />
</a>
<figcaption>
<p><span class="caption-text">Quantum Communications Scheme</span><a class="headerlink" href="#id1" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>This is the one paradigm that does not have a classical counterpart, since it is purely <strong>quantum distribution</strong>.</p>
<p>In this scheme quantum communication protocols such as <strong>teledata</strong> and <strong>telegate</strong> can be use to <strong>share quantum entanglement</strong> among the
states in each QPU involved.</p>
<section id="how-to-deploy">
<h2><strong>How to deploy</strong><a class="headerlink" href="#how-to-deploy" title="Link to this heading"></a></h2>
<p>To lauch a set of vQPUs incorporating quantum communications among them, you must use the flag
<code class="xref py py-attr docutils literal notranslate"><span class="pre">--quantum-comm</span></code> when deploying.</p>
<div class="tab-set docutils">
<input checked="True" class="tab-input" id="tab-set--0-input--1" name="tab-set--0" type="radio" /><label class="tab-label" for="tab-set--0-input--1">Bash command</label><div class="tab-content docutils">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>qraise<span class="w"> </span>-n<span class="w"> </span>&lt;num<span class="w"> </span>qpus&gt;<span class="w"> </span>-t<span class="w"> </span>&lt;max<span class="w"> </span>time&gt;<span class="w"> </span>--quantum-comm<span class="w"> </span><span class="o">[</span>OTHER<span class="o">]</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--0-input--2" name="tab-set--0" type="radio" /><label class="tab-label" for="tab-set--0-input--2">Python function</label><div class="tab-content docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">family</span> <span class="o">=</span> <span class="n">qraise</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="o">&lt;</span><span class="nb">max</span> <span class="n">time</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">quantum_comm</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="p">[</span><span class="n">OTHER</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<p>The above command line launches vQPUs with all-to-all quantum communications connectivity. For
additional options in the Bash command checkout <a class="reference internal" href="../reference/commands/qraise.html"><span class="doc">qraise</span></a>, and check
<a class="reference internal" href="../reference/api/cunqa.qpu.html#cunqa.qpu.qraise" title="cunqa.qpu.qraise"><code class="xref py py-func docutils literal notranslate"><span class="pre">qraise</span></code></a> for the Python function. Again, it is recomended to use the
<code class="docutils literal notranslate"><span class="pre">--co-located</span></code> flag (and <code class="docutils literal notranslate"><span class="pre">co_located</span></code> attribute in Python), as it allows to access the vQPUs
from every node, not just the one the vQPUs are being set up. In this documentation we are going
to consider that this flag is set.</p>
</section>
<section id="circuits-design">
<h2><strong>Circuits design</strong><a class="headerlink" href="#circuits-design" title="Link to this heading"></a></h2>
<p>CUNQA allows the implementation of <strong>teledata</strong> and <strong>telegate</strong> protocols among circuits. In order
to do this, and in a similar manner than with the classical comunnications model, several steps
must be followed.</p>
<blockquote>
<div><ol class="arabic simple">
<li><p><strong>Creating both circuits</strong> and adding the desired operations on them:</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">circuit_1</span> <span class="o">=</span> <span class="n">CunqaCircuit</span><span class="p">(</span><span class="n">num_qubits</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">num_clbits</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;circuit_1&quot;</span><span class="p">)</span>

<span class="n">circuit_1</span><span class="o">.</span><span class="n">h</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="n">circuit_2</span> <span class="o">=</span> <span class="n">CunqaCircuit</span><span class="p">(</span><span class="n">num_qubits</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">num_clbits</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;circuit_2&quot;</span><span class="p">)</span>

<span class="n">circuit_2</span><span class="o">.</span><span class="n">x</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p><strong>Implementing the quantum communication</strong>:</p></li>
</ol>
<div class="tab-set docutils">
<input checked="True" class="tab-input" id="tab-set--1-input--1" name="tab-set--1" type="radio" /><label class="tab-label" for="tab-set--1-input--1">Teledata</label><div class="tab-content docutils">
<p>This protocol is similar to the classical communication directive but instead of sending a
bit, here we <strong>teleport a quantum state</strong>. Even though in CUNQA we implement it in a
friendlier way, the behind of scene of the protocol looks like the following:</p>
<a class="reference internal image-reference" href="../_images/teledata.png"><img alt="Teledata protocol" class="align-center" src="../_images/teledata.png" style="width: 60%;" />
</a>
<p>where the state <em>a</em> at the first QPU is <strong>teleported</strong> to the first qubit of the second QPU.
Here we see that a requirement is for the QPUs to <strong>share a Bell pair</strong>.</p>
<p>At circuit level whithin CUNQA, class methods <a class="reference internal" href="../reference/api/cunqa.circuit.html#cunqa.circuit.core.CunqaCircuit.qsend" title="cunqa.circuit.core.CunqaCircuit.qsend"><code class="xref py py-meth docutils literal notranslate"><span class="pre">qsend</span></code></a>
and <a class="reference internal" href="../reference/api/cunqa.circuit.html#cunqa.circuit.core.CunqaCircuit.qrecv" title="cunqa.circuit.core.CunqaCircuit.qrecv"><code class="xref py py-meth docutils literal notranslate"><span class="pre">qrecv</span></code></a> are designed for this purpose:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">circuit_1</span><span class="o">.</span><span class="n">qsend</span><span class="p">(</span><span class="n">qubit</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sending_circuit</span><span class="o">=</span><span class="s2">&quot;circuit_2&quot;</span><span class="p">)</span>

<span class="n">circuit_2</span><span class="o">.</span><span class="n">qrecv</span><span class="p">(</span><span class="n">qubit</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">recving_circuit</span><span class="o">=</span><span class="s2">&quot;circuit_1&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Here the state of qubit <code class="docutils literal notranslate"><span class="pre">0</span></code> at <code class="docutils literal notranslate"><span class="pre">circuit_1</span></code> is teleported to qubit <code class="docutils literal notranslate"><span class="pre">0</span></code> at <code class="docutils literal notranslate"><span class="pre">circuit_2</span></code>.
The origin qubit is then set to state <code class="docutils literal notranslate"><span class="pre">0</span></code>. Then, we can continue to add instructions to
both circuits.</p>
</div>
<input class="tab-input" id="tab-set--1-input--2" name="tab-set--1" type="radio" /><label class="tab-label" for="tab-set--1-input--2">Telegate</label><div class="tab-content docutils">
<p>This protocol consists in exposing a qubit at one QPU to another for performing
<strong>multiple-qubits gates across QPUs</strong>. The protocol itself consists in the following:</p>
<a class="reference internal image-reference" href="../_images/telegate.png"><img alt="Telegate protocol" class="align-center" src="../_images/telegate.png" style="width: 63%;" />
</a>
<p>Here the quantum state <em>a</em> at the first QPU is participating in local operations at the
other QPU. We notice that a requirement is for the QPUs to <strong>share a Bell pair</strong>.</p>
<p>Its circuit implementation at CUNQA begins by <em>exposing</em> the control qubit whithin a
control context provided by the <a class="reference internal" href="../reference/api/cunqa.circuit.html#cunqa.circuit.core.CunqaCircuit.expose" title="cunqa.circuit.core.CunqaCircuit.expose"><code class="xref py py-meth docutils literal notranslate"><span class="pre">expose</span></code></a> method
that returns a <code class="xref py py-class docutils literal notranslate"><span class="pre">QuantumControlContext</span></code> for representing the
remote qubit and a subcircuit to which the controlled instructions are applied:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">circuit_1</span><span class="o">.</span><span class="n">expose</span><span class="p">(</span><span class="n">qubit</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">target_circuit</span><span class="o">=</span><span class="s2">&quot;circuit_2&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">rqubit</span><span class="p">,</span> <span class="n">subcircuit</span><span class="p">:</span>
    <span class="n">subcircuit</span><span class="o">.</span><span class="n">cx</span><span class="p">(</span><span class="n">rqubit</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>This way, qubit <code class="docutils literal notranslate"><span class="pre">0</span></code> at <code class="docutils literal notranslate"><span class="pre">circuit_1</span></code> is participating in the
<a class="reference internal" href="../reference/api/cunqa.circuit.html#cunqa.circuit.core.CunqaCircuit.cx" title="cunqa.circuit.core.CunqaCircuit.cx"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cx</span></code></a> two-qubit gate together with qubit <code class="docutils literal notranslate"><span class="pre">1</span></code> at
<code class="docutils literal notranslate"><span class="pre">circuit_2</span></code>.</p>
</div>
</div>
</div></blockquote>
</section>
<section id="execution">
<h2><strong>Execution</strong><a class="headerlink" href="#execution" title="Link to this heading"></a></h2>
<p>We obtain the <a class="reference internal" href="../reference/api/cunqa.qpu.html#cunqa.qpu.QPU" title="cunqa.qpu.QPU"><code class="xref py py-class docutils literal notranslate"><span class="pre">QPU</span></code></a> objects associated to the displayed vQPUs through
<a class="reference internal" href="../reference/api/cunqa.qpu.html#cunqa.qpu.get_QPUs" title="cunqa.qpu.get_QPUs"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_QPUs</span></code></a>, same as with the other methods. It is important that those allow
quantum communications, otherwise an error will be raised. When quantum communications are
available, classical-communication directives are also permited at circuits.</p>
<p>For the distribution, function <a class="reference internal" href="../reference/api/cunqa.qpu.html#cunqa.qpu.run" title="cunqa.qpu.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">run</span></code></a> is used. By providing
the list of circuits and the list of <a class="reference internal" href="../reference/api/cunqa.qpu.html#cunqa.qpu.QPU" title="cunqa.qpu.QPU"><code class="xref py py-class docutils literal notranslate"><span class="pre">QPU</span></code></a> objects we allow their mapping to
the corresponding vQPUs:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">qpus_list</span> <span class="o">=</span> <span class="n">get_QPUs</span><span class="p">(</span><span class="n">family</span><span class="o">=</span><span class="n">family</span><span class="p">,</span> <span class="n">co_located</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">distributed_qjobs</span> <span class="o">=</span> <span class="n">run</span><span class="p">([</span><span class="n">circuit_1</span><span class="p">,</span> <span class="n">circuit_2</span><span class="p">],</span> <span class="n">qpus_list</span><span class="p">,</span> <span class="n">shots</span> <span class="o">=</span> <span class="mi">1024</span><span class="p">)</span>
</pre></div>
</div>
<p>We can call for the results by the <a class="reference internal" href="../reference/api/cunqa.qjob.html#cunqa.qjob.gather" title="cunqa.qjob.gather"><code class="xref py py-func docutils literal notranslate"><span class="pre">gather</span></code></a> function, passing the list of
<a class="reference internal" href="../reference/api/cunqa.qjob.html#cunqa.qjob.QJob" title="cunqa.qjob.QJob"><code class="xref py py-class docutils literal notranslate"><span class="pre">QJob</span></code></a> objects:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="n">gather</span><span class="p">(</span><span class="n">distributed_qjobs</span><span class="p">)</span>
</pre></div>
</div>
<p>For quantum communications simulation, the vQPUs deployed actually share a conjunt simulator,
therefore the call for results is a blocking call that waits for the whole simulation to be over.
Simulation time and output statistics can be accessed by</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">times_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">result</span><span class="o">.</span><span class="n">time_taken</span> <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="p">]</span>

<span class="n">counts_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">result</span><span class="o">.</span><span class="n">counts</span> <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="basic-example">
<h2><strong>Basic example</strong><a class="headerlink" href="#basic-example" title="Link to this heading"></a></h2>
<p>Here we show two examples of implementing the remote construction of a three-qubit entangled state by <strong>teledata</strong> and <strong>telegate</strong>.
Further examples and use cases are listed in <a class="reference internal" href="../further_examples/further_examples.html"><span class="doc">Further examples</span></a>.</p>
<blockquote>
<div><div class="tab-set docutils">
<input checked="True" class="tab-input" id="tab-set--2-input--1" name="tab-set--2" type="radio" /><label class="tab-label" for="tab-set--2-input--1">Teledata</label><div class="tab-content docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span><span class="o">,</span><span class="w"> </span><span class="nn">sys</span>
<span class="c1"># In order to import cunqa, we append to the search path the cunqa installation path.</span>
<span class="c1"># In CESGA, we install by default on the $HOME path as $HOME/bin is in the PATH variable</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;HOME&quot;</span><span class="p">))</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">cunqa.qpu</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_QPUs</span><span class="p">,</span> <span class="n">qraise</span><span class="p">,</span> <span class="n">qdrop</span><span class="p">,</span> <span class="n">run</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">cunqa.circuit</span><span class="w"> </span><span class="kn">import</span> <span class="n">CunqaCircuit</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">cunqa.qjob</span><span class="w"> </span><span class="kn">import</span> <span class="n">gather</span>

<span class="c1"># 1. QPU deployment</span>

<span class="n">family_name</span> <span class="o">=</span> <span class="n">qraise</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;01:00:00&quot;</span><span class="p">,</span> <span class="n">quantum_comm</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">family_name</span> <span class="o">=</span> <span class="s2">&quot;qpus_quantum_comms&quot;</span><span class="p">)</span>
<span class="n">qpus</span> <span class="o">=</span> <span class="n">get_QPUs</span><span class="p">(</span><span class="n">family</span> <span class="o">=</span> <span class="n">family_name</span><span class="p">)</span>

<span class="c1"># 2. Circuit design</span>

<span class="n">circuit_1</span> <span class="o">=</span> <span class="n">CunqaCircuit</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;circuit_1&quot;</span><span class="p">)</span>
<span class="n">circuit_2</span> <span class="o">=</span> <span class="n">CunqaCircuit</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;circuit_2&quot;</span><span class="p">)</span>

<span class="n">circuit_1</span><span class="o">.</span><span class="n">h</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">circuit_1</span><span class="o">.</span><span class="n">cx</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># -------------- Teledata! ------------</span>
<span class="n">circuit_1</span><span class="o">.</span><span class="n">qsend</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;circuit_2&quot;</span><span class="p">)</span>
<span class="n">circuit_2</span><span class="o">.</span><span class="n">qrecv</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;circuit_1&quot;</span><span class="p">)</span>
<span class="c1"># -------------------------------------</span>

<span class="n">circuit_2</span><span class="o">.</span><span class="n">cx</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>

<span class="n">circuit_1</span><span class="o">.</span><span class="n">measure_all</span><span class="p">()</span>
<span class="n">circuit_2</span><span class="o">.</span><span class="n">measure_all</span><span class="p">()</span>

<span class="c1"># 3. Execution</span>

<span class="n">qjobs</span> <span class="o">=</span> <span class="n">run</span><span class="p">([</span><span class="n">circuit_1</span><span class="p">,</span> <span class="n">circuit_2</span><span class="p">],</span> <span class="n">qpus</span><span class="p">,</span> <span class="n">shots</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">gather</span><span class="p">(</span><span class="n">qjobs</span><span class="p">)</span>
<span class="n">counts_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">result</span><span class="o">.</span><span class="n">counts</span> <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="p">]</span>

<span class="k">for</span> <span class="n">counts</span><span class="p">,</span> <span class="n">qpu</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">counts_list</span><span class="p">,</span> <span class="n">qpus</span><span class="p">):</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Counts from vQPU </span><span class="si">{</span><span class="n">qpu</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">counts</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">qdrop</span><span class="p">(</span><span class="n">family_name</span><span class="p">)</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--2-input--2" name="tab-set--2" type="radio" /><label class="tab-label" for="tab-set--2-input--2">Telegate</label><div class="tab-content docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span><span class="o">,</span><span class="w"> </span><span class="nn">sys</span>
<span class="c1"># In order to import cunqa, we append to the search path the cunqa installation path.</span>
<span class="c1"># In CESGA, we install by default on the $HOME path as $HOME/bin is in the PATH variable</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;HOME&quot;</span><span class="p">))</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">cunqa.qpu</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_QPUs</span><span class="p">,</span> <span class="n">qraise</span><span class="p">,</span> <span class="n">qdrop</span><span class="p">,</span> <span class="n">run</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">cunqa.circuit</span><span class="w"> </span><span class="kn">import</span> <span class="n">CunqaCircuit</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">cunqa.qjob</span><span class="w"> </span><span class="kn">import</span> <span class="n">gather</span>

<span class="c1"># 1. QPU deployment</span>

<span class="n">family_name</span> <span class="o">=</span> <span class="n">qraise</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;01:00:00&quot;</span><span class="p">,</span> <span class="n">quantum_comm</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">family_name</span> <span class="o">=</span> <span class="s2">&quot;qpus_quantum_comms&quot;</span><span class="p">)</span>
<span class="n">qpus</span> <span class="o">=</span> <span class="n">get_QPUs</span><span class="p">(</span><span class="n">family</span> <span class="o">=</span> <span class="n">family_name</span><span class="p">)</span>

<span class="c1"># 2. Circuit design</span>

<span class="n">circuit_1</span> <span class="o">=</span> <span class="n">CunqaCircuit</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;circuit_1&quot;</span><span class="p">)</span>
<span class="n">circuit_2</span> <span class="o">=</span> <span class="n">CunqaCircuit</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;circuit_2&quot;</span><span class="p">)</span>

<span class="n">circuit_1</span><span class="o">.</span><span class="n">h</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">circuit_1</span><span class="o">.</span><span class="n">cx</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>


<span class="c1"># -------------------------- Telegate! -------------------------</span>
<span class="k">with</span> <span class="n">circuit_1</span><span class="o">.</span><span class="n">expose</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;circuit_2&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="p">(</span><span class="n">rqubit</span><span class="p">,</span> <span class="n">subcircuit</span><span class="p">):</span>
    <span class="n">subcircuit</span><span class="o">.</span><span class="n">cx</span><span class="p">(</span><span class="n">rqubit</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="c1"># --------------------------------------------------------------</span>

<span class="n">circuit_1</span><span class="o">.</span><span class="n">measure_all</span><span class="p">()</span>
<span class="n">circuit_2</span><span class="o">.</span><span class="n">measure_all</span><span class="p">()</span>

<span class="c1"># 3. Execution</span>

<span class="n">qjobs</span> <span class="o">=</span> <span class="n">run</span><span class="p">([</span><span class="n">circuit_1</span><span class="p">,</span> <span class="n">circuit_2</span><span class="p">],</span> <span class="n">qpus</span><span class="p">,</span> <span class="n">shots</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">gather</span><span class="p">(</span><span class="n">qjobs</span><span class="p">)</span>
<span class="n">counts_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">result</span><span class="o">.</span><span class="n">counts</span> <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="p">]</span>

<span class="k">for</span> <span class="n">counts</span><span class="p">,</span> <span class="n">qpu</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">counts_list</span><span class="p">,</span> <span class="n">qpus</span><span class="p">):</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Counts from vQPU </span><span class="si">{</span><span class="n">qpu</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">counts</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">qdrop</span><span class="p">(</span><span class="n">family_name</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div></blockquote>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="classical_comm.html" class="btn btn-neutral float-left" title="Classical Communications" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="tools_for_DQC.html" class="btn btn-neutral float-right" title="Tools for DQC algorithms" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Álvaro Carballido, Marta Losada, Jorge Vázquez, Daniel Expósito.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>